<div class="scene-fold-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>Scene Fold</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div class="scene-fold-settings-section">
                <label class="checkbox_label" for="scene_fold_enabled">
                    <input type="checkbox" id="scene_fold_enabled" />
                    <span>Enable Scene Fold</span>
                </label>
            </div>

            <div class="scene-fold-settings-section">
                <label class="checkbox_label" for="scene_fold_smart_auto_start">
                    <input type="checkbox" id="scene_fold_smart_auto_start" />
                    <span>Smart auto-start (start scene after last summary)</span>
                </label>
            </div>

            <div class="scene-fold-settings-section">
                <label for="scene_fold_default_prompt">Summarization prompt template:</label>
                <small class="scene-fold-template-hint">
                    Use <code>{{content}}</code> for scene messages,
                    <code>{{additional_guidance}}</code> for per-scene notes,
                    <code>{{user}}</code> / <code>{{char}}</code> for names.
                </small>
                <textarea id="scene_fold_default_prompt" class="text_pole" rows="6"
                    placeholder="Enter the prompt template used when summarizing scenes..."></textarea>
            </div>

            <div class="scene-fold-settings-section">
                <label for="scene_fold_guidance_prefix">Additional guidance introduction:</label>
                <small class="scene-fold-template-hint">
                    Precedes per-scene notes when <code>{{additional_guidance}}</code> is used.
                </small>
                <input type="text" id="scene_fold_guidance_prefix" class="text_pole"
                    placeholder="Additional guidance for this scene:" />
            </div>

            <div class="scene-fold-settings-section">
                <label for="scene_fold_max_retries">Retries on blank summary (0-10):</label>
                <input type="number" id="scene_fold_max_retries" class="text_pole" min="0" max="10" step="1" />
            </div>

            <div class="scene-fold-settings-section">
                <label class="checkbox_label" for="scene_fold_debug_overlay">
                    <input type="checkbox" id="scene_fold_debug_overlay" />
                    <span>Show debug overlay on scene messages</span>
                </label>
            </div>

            <hr />

            <div class="scene-fold-settings-section">
                <b>Scenes in this chat:</b>
                <div id="scene_fold_scene_list" class="scene-fold-scene-list">
                    <i>No scenes defined yet.</i>
                </div>
            </div>
        </div>
    </div>
</div>
